(window.webpackJsonp=window.webpackJsonp||[]).push([[87,155,306,314,315,424],{1458:function(e,t,n){e.exports={header:"header-41e57313d1","host-table-th":"host-table-th-c24dbdc668","col-risk":"col-risk-0a4475ae04","col-hostname":"col-hostname-67c636d39e"}},1608:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),r=n.n(a),l=n(70),i=n.n(l),o="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/utils/get-display-time.tsx";function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e){var a=i.a.unix(e).format(t);if(n){var l=null==a?void 0:a.split(" ");return r.a.createElement(r.a.Fragment,null,null==l?void 0:l.map((function(e){return r.a.createElement("div",{key:e,__source:{fileName:o,lineNumber:12,columnNumber:13}},e)})))}return a}return"-"}},1609:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));n(299);var a=n(165),r=n(0),l=n.n(r),i=n(55),o=n(164),c=n.n(o),u=n(147),m=n(166);function s(){return(m.a?location.pathname.slice(null===m.a||void 0===m.a?void 0:m.a.length):location.pathname)+encodeURIComponent(location.search)}t.a=function(e){var t=e.defaultLink,n=e.defaultTitle,o=Object(i.g)();var m=Object(r.useMemo)((function(){return function(){var e,t=null===(e=c.a.parse(location.search))||void 0===e?void 0:e.breadcrumbLinkFrom;if(t){var n,a,r,l,i="";if(null!=t&&null!==(n=t.indexOf)&&void 0!==n&&n.call(t,"?"))i=null==t||null===(r=t.split)||void 0===r||null===(l=r.call(t,"?"))||void 0===l?void 0:l[0];else i=t;var o=null===u.c||void 0===u.c||null===(a=u.c.find)||void 0===a?void 0:a.call(u.c,(function(e){return(null==e?void 0:e.path)===i&&(null==e?void 0:e.name)}));if(o)return{link:t,title:null==o?void 0:o.name}}return{link:void 0,title:void 0}}()}),[]),s=m.link,d=m.title;return l.a.createElement(a.a,{style:{color:"#4E5969"},onClick:function(){o.push(s||t)},__source:{fileName:"/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/components/common/breadcrumb-link.tsx",lineNumber:63,columnNumber:5}},d||n)}},1628:function(e,t,n){"use strict";n(1313);var a=n(810),r=n(1),l=n.n(r),i=n(10),o=n.n(i),c=n(2),u=n.n(c),m=n(0),s=n.n(m),d=["onChange","pagination"];function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(e){var t=e.onChange,n=e.pagination,r=u()(e,d);return s.a.createElement(a.a,l()({onChange:function(e,n,a,r){"filter"===r.action||"sort"===r.action?t(f(f({},e),{},{current:1}),n,a,r):t(e,n,a,r)},border:!1,pagination:(null==n?void 0:n.total)>10&&f(f({},n),{},{sizeCanChange:!0,sizeOptions:[10,20,50,100]})},r,{__source:{fileName:"/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/components/common/table/index.tsx",lineNumber:6,columnNumber:5}}))}},1636:function(e,t,n){"use strict";function a(e){if(e>=1e3&&e<1e4){var t=(e/1e3).toFixed(1);return-1!==t.indexOf(".0")&&(t=t.slice(0,t.length-2)),"".concat(t,"k")}if(e>=1e4){var n=(e/1e4).toFixed(1);return-1!==n.indexOf(".0")&&(n=n.slice(0,n.length-2)),"".concat(n,"w")}return"".concat(e)}n.d(t,"a",(function(){return a}))},1664:function(e,t,n){"use strict";var a,r=n(614),l=(n(162),n(67)),i=n(50),o=n.n(i),c=n(0),u=n.n(c),m=n(799),s=n(115),d=n.n(s);function b(){return(b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var f=function(e){return u.a.createElement("svg",b({width:10,height:10,fill:"none"},e),a||(a=u.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.976 4.366l2.8-2.799a.208.208 0 01.294 0l.294.295a.208.208 0 010 .294l-2.799 2.8 2.8 2.798a.208.208 0 010 .295l-.295.295a.208.208 0 01-.295 0l-2.799-2.8-2.799 2.8a.208.208 0 01-.294 0l-.295-.295a.208.208 0 010-.295l2.799-2.799-2.8-2.799a.208.208 0 010-.294l.296-.295a.208.208 0 01.294 0l2.8 2.8z",fill:"#4E5969"})))},p=n(1678),v=n.n(p),N="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/components/common/tag-component/index.tsx",g=d.a.bind(v.a);t.a=function(e){var t,n=e.value,a=e.showNum,i=e.isEditable,s=e.onDelete,d=e.onEdit,b=a?null==n?void 0:n.slice(0,a):n,p=Object(c.useState)(!1),v=o()(p,2),_=v[0],h=v[1];return u.a.createElement("div",{className:g("tag-component-container"),onMouseOver:function(){_||h(!0)},onMouseOut:function(){h(!1)},__source:{fileName:N,lineNumber:32,columnNumber:5}},0===(null==n?void 0:n.length)?u.a.createElement("span",{className:g("no-value"),__source:{fileName:N,lineNumber:43,columnNumber:30}},"-"):"",null==b?void 0:b.map((function(e){return u.a.createElement("div",{className:g("tag-item"),key:e,__source:{fileName:N,lineNumber:45,columnNumber:9}},u.a.createElement(m.a,{__source:{fileName:N,lineNumber:46,columnNumber:11}},e),i&&u.a.createElement("div",{className:g("tag-close-box"),onClick:function(){null==s||s(e)},__source:{fileName:N,lineNumber:48,columnNumber:13}},u.a.createElement(f,{__source:{fileName:N,lineNumber:55,columnNumber:15}})))})),(null==n?void 0:n.length)-(null==b?void 0:b.length)>0?u.a.createElement(l.a,{getPopupContainer:function(){return document.querySelector("#root")},content:u.a.createElement("div",{className:g("tootip-content-container"),__source:{fileName:N,lineNumber:64,columnNumber:13}},null==n||null===(t=n.slice(a))||void 0===t?void 0:t.map((function(e){return u.a.createElement("div",{key:e,__source:{fileName:N,lineNumber:66,columnNumber:17}},e)}))),__source:{fileName:N,lineNumber:61,columnNumber:9}},u.a.createElement("div",{className:g("more-tag"),__source:{fileName:N,lineNumber:71,columnNumber:11}},"+",(null==n?void 0:n.length)-(null==b?void 0:b.length))):null,i&&u.a.createElement(r.a,{fontSize:16,style:{cursor:"pointer",display:_?"inline-block":"none",color:"#4E5969",margin:4},onClick:function(){null==d||d(n)},__source:{fileName:N,lineNumber:75,columnNumber:9}}))}},1678:function(e,t,n){e.exports={"tag-component-container":"tag-component-container-7fbe513a00","tag-item":"tag-item-950f8d87b9","tag-close-box":"tag-close-box-f6dd0a6433","more-tag":"more-tag-cba65ceab5","no-value":"no-value-c4b05bf4a4","tootip-content-container":"tootip-content-container-685c761fe3"}},1679:function(e,t,n){"use strict";var a=n(0),r=n.n(a),l=n(115),i=n.n(l),o=n(1688),c=n.n(o),u="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/components/common/mini-label/index.tsx",m=i.a.bind(c.a),s=function(e){return e.children};t.a=function(e){var t=e.outerContainerStyle,n=void 0===t?{}:t,a=e.containerStyle,l=void 0===a?{}:a,i=e.className,o=void 0===i?"":i,d=e.data,b=Array.isArray(d)?d:[d];return r.a.createElement("div",{className:m("outer-container",o),style:n,__source:{fileName:u,lineNumber:22,columnNumber:5}},b.map((function(e,t){var n=e.label,a=e.content;return r.a.createElement(s,{key:t,__source:{fileName:u,lineNumber:24,columnNumber:9}},r.a.createElement("div",{className:c.a.container,style:l,__source:{fileName:u,lineNumber:25,columnNumber:11}},r.a.createElement("div",{className:c.a.label,__source:{fileName:u,lineNumber:26,columnNumber:13}},n)),a)})))}},1680:function(e,t,n){"use strict";n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return g}));n(597);var a,r=n(226),l=n(51),i=n.n(l),o=n(50),c=n.n(o),u=(n(600),n(198)),m=n(0),s=n.n(m),d=n(115),b=n.n(d),f=n(1634),p=n(12);function v(){return(v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var N,g,_=function(e){return s.a.createElement("svg",v({width:12,height:12,fill:"none"},e),a||(a=s.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.298 3.348a.5.5 0 00-.707 0L6 4.94 4.409 3.35a.5.5 0 00-.707 0l-.354.353a.5.5 0 000 .707L4.94 6 3.35 7.591a.5.5 0 000 .707l.353.354a.5.5 0 00.707 0L6 7.06l1.591 1.59a.5.5 0 00.707 0l.354-.353a.5.5 0 000-.707L7.06 6l1.59-1.591a.5.5 0 000-.707l-.353-.354z",fill:"#4E5969"})))},h=n(1684),O=n.n(h),j="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/components/common/add-edit-tag-modal/index.tsx",y=b.a.bind(O.a),x=u.a.Option;!function(e){e[e.add=0]="add",e[e.edit=1]="edit"}(N||(N={})),function(e){e[e.event=0]="event",e[e.host=1]="host"}(g||(g={}));t.c=function(e){var t=e.type,n=e.onCancel,a=e.onConfirm,l=e.visible,o=e.value,d=e.whichModule,b=void 0===d?g.host:d,v=e.tips,h=e.max,O=e.queryEventTagList,E=Object(m.useState)([]),w=c()(E,2),k=w[0],C=w[1],S=Object(m.useState)([]),D=c()(S,2),P=D[0],F=D[1],z=Object(m.useState)(""),I=c()(z,2),M=I[0],A=I[1];return Object(m.useEffect)((function(){F(o)}),[o]),Object(m.useEffect)((function(){l&&(b===g.host?Object(f.DescribeTags)().then((function(e){var t=e.data;C(null!=t?t:[])})):b===g.event&&O().then((function(e){var t,n=e.data;C(null!==(t=null==n?void 0:n.tag_list)&&void 0!==t?t:[])})))}),[l]),s.a.createElement(r.a,{title:s.a.createElement("div",{style:{textAlign:"left"},__source:{fileName:j,lineNumber:75,columnNumber:9}},t===N.add?Object(p.g)("批量添加标签"):Object(p.g)("编辑标签")),visible:l,onOk:function(){a(P)},style:{width:600},onCancel:function(){n(),F([])},autoFocus:!1,focusLock:!0,__source:{fileName:j,lineNumber:73,columnNumber:5}},s.a.createElement("div",{className:y("select-container"),__source:{fileName:j,lineNumber:91,columnNumber:7}},s.a.createElement("span",{className:y("label"),__source:{fileName:j,lineNumber:92,columnNumber:9}},b===g.event?Object(p.g)("事件标签"):Object(p.g)("主机标签")),s.a.createElement(u.a,{mode:"multiple",placeholder:Object(p.g)("请输入英文或数字，最多10个字符"),style:{width:496},value:P,onChange:function(e){F(e)},removeIcon:s.a.createElement(_,{__source:{fileName:j,lineNumber:103,columnNumber:23}}),inputValue:M,onInputValueChange:function(e){if(h&&(null==P?void 0:P.length)===h){if(!/^[0-9a-zA-Z]{0,10}$|^[0-9a-zA-Z]{1,10}$/.test(e))return;A(e)}else if(/^[0-9a-zA-Z]{0,10}$|^[0-9a-zA-Z]{1,10};$/.test(e))if((null==e?void 0:e.length)>1&&";"===(null==e?void 0:e[(null==e?void 0:e.length)-1])){var t=null==e?void 0:e.slice(0,(null==e?void 0:e.length)-1),n=null==P?void 0:P.findIndex((function(e){return e===t}));-1===n?F([].concat(i()(P),[t])):(P.splice(n,1),F(i()(P))),A("")}else A(e)},getPopupContainer:function(e){return e},allowCreate:!h||h&&(null==P?void 0:P.length)<h,allowClear:!0,__source:{fileName:j,lineNumber:95,columnNumber:9}},k.map((function(e){return s.a.createElement(x,{disabled:!!h&&((null==P?void 0:P.length)===h&&!(null!=P&&P.includes(e))),key:e,value:e,__source:{fileName:j,lineNumber:136,columnNumber:13}},e)})))),s.a.createElement("div",{className:y("tips"),__source:{fileName:j,lineNumber:146,columnNumber:7}},v||Object(p.g)("可添加多个标签，使用“;”或回车分隔")))}},1683:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e[e.B=Math.pow(1024,0)]="B",e[e.KB=Math.pow(1024,1)]="KB",e[e.MB=Math.pow(1024,2)]="MB",e[e.GB=Math.pow(1024,3)]="GB",e[e.TB=Math.pow(1024,4)]="TB",e[e.PB=Math.pow(1024,5)]="PB"}(a||(a={})),t.b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.MB,n=Math.abs(e);if(!e)return{displayCount:0,displayUnit:"B"};for(var r=Object.values(a).filter((function(e){return"string"==typeof e})).map((function(e){return e})),l=Object.values(a).filter((function(e){return"number"==typeof e})).map((function(e){return e})),i=0;i<r.length;i++){var o,c,u,m,s=n;if(0!==i)s=parseFloat(null===(o=n/l[i])||void 0===o?void 0:o.toFixed(2));if(s<10)return{displayCount:null===(c=s)||void 0===c?void 0:c.toFixed(2),displayUnit:r[i]};if(s>=10&&s<100)return{displayCount:null===(u=s)||void 0===u?void 0:u.toFixed(1),displayUnit:r[i]};if(s>=100&&s<1e3)return{displayCount:null===(m=s)||void 0===m?void 0:m.toFixed(0),displayUnit:r[i]};if(l[i]===t)break}return{displayCount:"999+",displayUnit:a[t]}}},1684:function(e,t,n){e.exports={"select-container":"select-container-d3cc3ca58c",label:"label-fcefb58d85",tips:"tips-a3a1efbcba"}},1688:function(e,t,n){e.exports={"outer-container":"outer-container-a02d8d74a7",container:"container-39876372d0",label:"label-3ad4f401a8"}},1689:function(e,t,n){"use strict";var a=n(51),r=n.n(a),l=(n(116),n(42)),i=(n(304),n(118)),o=(n(197),n(117)),c=n(50),u=n.n(c),m=n(0),s=n.n(m),d=n(115),b=n.n(d),f=n(12),p=n(1690),v=n.n(p),N="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/components/common/filter-search-dropdown/index.tsx",g=b.a.bind(v.a);t.a=function(e){var t=e.value,n=e.onChangeValue,a=e.onClose,c=e.options,d=Object(m.useState)(),b=u()(d,2),p=b[0],v=b[1],_=Object(m.useState)(null!=t?t:[]),h=u()(_,2),O=h[0],j=h[1];return s.a.createElement("div",{className:g("container"),__source:{fileName:N,lineNumber:27,columnNumber:5}},s.a.createElement("div",{className:g("top-box"),__source:{fileName:N,lineNumber:28,columnNumber:7}},s.a.createElement("div",{className:g("input-box"),style:{width:f.d?170:130},__source:{fileName:N,lineNumber:29,columnNumber:9}},s.a.createElement(o.a,{size:"mini",value:p,onChange:v,placeholder:Object(f.g)("请搜索标签"),__source:{fileName:N,lineNumber:30,columnNumber:11}})),s.a.createElement("div",{className:g("checkbox-box"),__source:{fileName:N,lineNumber:32,columnNumber:9}},s.a.createElement(i.a.Group,{direction:"vertical",style:{width:"100%"},value:O,onChange:j,__source:{fileName:N,lineNumber:33,columnNumber:11}},null==c?void 0:c.map((function(e){var t;return s.a.createElement(i.a,{key:null==e?void 0:e.value,value:null==e?void 0:e.value,style:{height:32,display:p?-1!==(null==e||null===(t=e.label)||void 0===t?void 0:t.indexOf(p))?"block":"none":"block",lineHeight:"32px",padding:"0 12px"},__source:{fileName:N,lineNumber:40,columnNumber:15}},null==e?void 0:e.label)}))))),s.a.createElement("div",{className:g("bottom-box"),__source:{fileName:N,lineNumber:60,columnNumber:7}},s.a.createElement(l.a,{size:"mini",onClick:function(){n([]),a()},__source:{fileName:N,lineNumber:61,columnNumber:9}},Object(f.g)("重置")),s.a.createElement(l.a,{size:"mini",type:"primary",onClick:function(){n(r()(O)),a()},style:{marginLeft:8},__source:{fileName:N,lineNumber:70,columnNumber:9}},Object(f.g)("确定"))))}},1690:function(e,t,n){e.exports={container:"container-b3ee400682","top-box":"top-box-27476a91bb","input-box":"input-box-92b6d1e47b","checkbox-box":"checkbox-box-de2d7db898","bottom-box":"bottom-box-59d0e2dab7"}},1697:function(e,t,n){"use strict";n(162);var a=n(67),r=n(0),l=n.n(r),i=n(115),o=n.n(i),c=n(1611),u=n(12),m=n(1700),s=n.n(m),d="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/components/common/host-status-component/index.tsx",b=o.a.bind(s.a);t.a=function(e){var t=e.value,n=e.detail;var r=function(e){switch(e){case c.d.running:return{content:Object(u.g)("运行中"),color:"#00AA2A"};case c.d.uninstall:return{content:Object(u.g)("未安装"),color:"#C9CDD4"};case c.d.abnormal:return{content:Object(u.g)("运行异常"),color:"#FA9600"};case c.d.offline:return{content:Object(u.g)("离线"),color:"#E63F3F"};default:return{content:"",color:"transparent"}}}(t);return l.a.createElement("div",{className:b("container"),__source:{fileName:d,lineNumber:33,columnNumber:5}},l.a.createElement(a.a,{disabled:t!==c.d.abnormal,mini:!0,content:n,getPopupContainer:function(){var e;return null===(e=document.getElementsByTagName("body"))||void 0===e?void 0:e[0]},__source:{fileName:d,lineNumber:34,columnNumber:7}},l.a.createElement("div",{className:b("circle"),style:{background:r.color},__source:{fileName:d,lineNumber:40,columnNumber:9}})),l.a.createElement("div",{className:b("content"),__source:{fileName:d,lineNumber:42,columnNumber:7}},r.content))}},1700:function(e,t,n){e.exports={container:"container-810f344c70",circle:"circle-9aa6f1ed62",content:"content-9962c55992"}},1705:function(e,t,n){"use strict";var a=n(0),r=n.n(a),l=n(115),i=n.n(l),o=n(1683),c=n(12),u=n(1707),m=n.n(u),s="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/components/common/cpu-memory-status/index.tsx",d=i.a.bind(m.a);t.a=function(e){var t,n,a,l=e.cpu,i=e.memory;return r.a.createElement("div",{className:d("container"),__source:{fileName:s,lineNumber:17,columnNumber:5}},r.a.createElement("div",{className:d("cpu-box"),__source:{fileName:s,lineNumber:18,columnNumber:7}},r.a.createElement("div",{className:d("label-box"),__source:{fileName:s,lineNumber:19,columnNumber:9}},r.a.createElement("div",{className:d("label-content"),__source:{fileName:s,lineNumber:20,columnNumber:11}},Object(c.g)("CPU"))),r.a.createElement("div",{__source:{fileName:s,lineNumber:22,columnNumber:9}},null!=l?"".concat((100*Number(l)).toFixed(2),"%"):"-")),r.a.createElement("div",{className:d("memory-box"),__source:{fileName:s,lineNumber:24,columnNumber:7}},r.a.createElement("div",{className:d("label-box"),__source:{fileName:s,lineNumber:25,columnNumber:9}},r.a.createElement("div",{className:d("label-content"),__source:{fileName:s,lineNumber:26,columnNumber:11}},Object(c.g)("内存"))),r.a.createElement("div",{__source:{fileName:s,lineNumber:28,columnNumber:9}},i?(t=Object(o.b)(Number(i)),n=t.displayCount,a=t.displayUnit,"".concat(n," ").concat(a)):"-")))}},1707:function(e,t,n){e.exports={container:"container-92b5c764b2","cpu-box":"cpu-box-bc89339e43","label-box":"label-box-74fd61526a","label-content":"label-content-870c81f483"}},451:function(e,t,n){"use strict";n.r(t);n(224);var a=n(97),r=(n(225),n(127)),l=(n(116),n(42)),i=(n(162),n(67)),o=n(51),c=n.n(o),u=n(1),m=n.n(u),s=n(10),d=n.n(s),b=n(28),f=n.n(b),p=n(50),v=n.n(p),N=n(16),g=n.n(N),_=n(0),h=n.n(_),O=n(55),j=n(599),y=n(794),x=n(100),E=n(115),w=n.n(E),k=n(164),C=n.n(k),S=n(52),D=n(1680),P=n(1609),F=n(1614),z=n(596),I=n(1689),M=n(1697),A=n(196),B=n(1679),T=n(1613),R=n(1760),L=n(1664),H=n(1621),V=n(594),U=n(853),Y=n(860),K=n(1611),Z=n(1634),$=n(1620),G=n(1608),q=n(12),J=n(145),Q=n(1458),W=n.n(Q),X=n(1705),ee="/opt/tiger/compile_path/src/code.byted.org/biz-platform/hids/src/pages/host-list/task-host/index.tsx";function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ae=w.a.bind(W.a),re={visible:!1,type:D.a.edit,agent:[],tags:[]};t.default=function(e){var t,n,o,u,s,d,b,p,N,E=e.filter,w=e.setFilter,k=e.tablePropsProxy,Q=e.tableChangeDeps,W=Object(O.g)(),te=Object(S.f)(J.k),le=Object(Y.default)(),ie=le.tagOptions,oe=le.platformOptions,ce=le.idcOptions,ue=Object(_.useState)(!1),me=v()(ue,2),se=me[0],de=me[1],be=Object(_.useState)(re),fe=v()(be,2),pe=fe[0],ve=fe[1],Ne=Object(_.useRef)(),ge=Object(_.useRef)(),_e=Object(j.a)(f()(g.a.mark((function e(){var t,n,a,r,l,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Z.DescribeHosts)({data:{hostname:null==E?void 0:E.hostname,ip:null==E?void 0:E.ip,agent_id:null==E?void 0:E.agent_id,version:null==E?void 0:E.version,tags:null==E?void 0:E.tags,idc:null==E?void 0:E.idc,platform:null==E?void 0:E.platform,status:null==E?void 0:E.status,important_protect:1===(null==E||null===(t=E.important_protect)||void 0===t?void 0:t.length)?null==E||null===(n=E.important_protect)||void 0===n?void 0:n[0]:void 0},params:{page:E.current,page_size:E.pageSize,_id:ge.current||void 0,offset_page:ge.current&&Ne.current?E.current-Ne.current:void 0}});case 2:return i=e.sent,ge.current=null===(a=(null!==(r=null==i?void 0:i.data)&&void 0!==r?r:[]).sort((function(e,t){return t._id-e._id}))[0])||void 0===a?void 0:a._id,Ne.current=E.current,e.abrupt("return",{list:(null==i?void 0:i.data)||[],total:null==i||null===(l=i.page_info)||void 0===l?void 0:l.total});case 6:case"end":return e.stop()}}),e)}))),{auto:!0,defaultParams:[{current:E.current,pageSize:E.pageSize}],debounceInterval:300,onChangeDeps:[Object(y.a)(ne({},Q))]}),he=_e.tableProps,Oe=_e.refresh,je=_e.error,ye=Object(F.b)({initSelectKeys:null==E?void 0:E.id_list,initIsSelectedAllFromFilter:Boolean(E.isSelectedAllFromFilter)}),xe=m()({},ye),Ee=xe.selectedRowKeys,we=xe.isSelectedAllFromFilter;Object(x.a)((function(){w((function(e){return ne(ne({},e),{},{id_list:Ee,isSelectedAllFromFilter:we})}))}),[Ee,we]);var ke=Object(_.useMemo)((function(){var e;return E.isSelectedAllFromFilter?{conditions:{tags:E.tags,idc:E.idc,platform:E.platform,status:E.status,hostname:E.hostname,version:E.version,ip:E.ip,agent_id:E.agent_id,important_protect:1===(null===(e=E.important_protect)||void 0===e?void 0:e.length)?E.important_protect[0]:void 0}}:{id_list:E.id_list}}),[E]),Ce=function(e){var t;t=e?ne(ne({},E),{},{isSelectedAllFromFilter:!1,id_list:[e]}):ne({},E);var n=C.a.stringify(t,{arrayFormat:"bracket"});W.push("create-task?".concat(n))},Se=[{title:Object(q.g)("主机名称"),dataIndex:"hostname",width:160,headerCellStyle:{paddingLeft:"8px"},render:function(e,t){var n,a,r,l,i=[].concat(c()(null!==(n=t.extranet_ipv4)&&void 0!==n?n:[]),c()(null!==(a=t.extranet_ipv6)&&void 0!==a?a:[])),o=[].concat(c()(null!==(r=t.intranet_ipv4)&&void 0!==r?r:[]),c()(null!==(l=t.intranet_ipv6)&&void 0!==l?l:[]));return h.a.createElement("div",{__source:{fileName:ee,lineNumber:193,columnNumber:11}},h.a.createElement(V.a,{href:"/host-detail?agentId=".concat(null==t?void 0:t.agent_id,"&breadcrumbLinkFrom=").concat(Object(P.b)()),target:"_blank",__source:{fileName:ee,lineNumber:194,columnNumber:13}},t.hostname||"-"),h.a.createElement("div",{style:{paddingLeft:"8px"},__source:{fileName:ee,lineNumber:202,columnNumber:13}},i.length?h.a.createElement(B.a,{data:{label:Object(q.g)("公网"),content:i[0]},outerContainerStyle:{color:"#1D2129"},__source:{fileName:ee,lineNumber:204,columnNumber:17}}):null,o.length?h.a.createElement(B.a,{data:{label:Object(q.g)("私网"),content:o[0]},outerContainerStyle:{color:"#1D2129"},__source:{fileName:ee,lineNumber:210,columnNumber:17}}):null))}},{title:Object(q.g)("标签"),dataIndex:"tags",headerCellStyle:{paddingLeft:4},width:150,filteredValue:E.tags,filterDropdown:null!=ie&&ie.length?function(){return h.a.createElement(I.a,{options:(null==ie?void 0:ie.map((function(e){return{label:null==e?void 0:e.text,value:null==e?void 0:e.value}})))||[],onClose:function(){de(!1)},value:E.tags,onChangeValue:function(e){w({tags:e})},__source:{fileName:ee,lineNumber:228,columnNumber:13}})}:null,filterDropdownProps:{triggerProps:{popupVisible:se,onVisibleChange:function(e){de(e)}}},render:function(e,t){var n;return h.a.createElement(L.a,{value:null!==(n=null==t?void 0:t.tags)&&void 0!==n?n:[],showNum:2,isEditable:te,onEdit:function(e){ve((function(n){return ne(ne({},n),{},{visible:!0,type:D.a.edit,tags:c()(e),agent:[t.agent_id]})}))},onDelete:function(){var e=f()(g.a.mark((function e(n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Z.DeleteTags)({data:{tags:[n],id_list:[t.agent_id]}});case 2:Oe();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),__source:{fileName:ee,lineNumber:250,columnNumber:11}})}},{title:Object(q.g)("地域"),dataIndex:"idc",width:100,filters:ce||[],filteredValue:null!==(t=E.idc)&&void 0!==t?t:[],render:function(e,t){return t.idc||"-"}},{title:Object(q.g)("操作系统"),dataIndex:"platform",width:q.d?180:100,filters:oe||[],filteredValue:null!==(n=E.platform)&&void 0!==n?n:[],render:function(e,t){return t.platform||"-"}},{title:Object(q.g)("风险"),dataIndex:"risk",width:q.d?400:320,render:function(e,t){var n,a,r;return h.a.createElement("div",{style:{display:"flex",justifyItems:"space-between"},__source:{fileName:ee,lineNumber:297,columnNumber:11}},h.a.createElement(R.a,{number:(null==t||null===(n=t.risk)||void 0===n?void 0:n.alarm)||0,title:Object(q.g)("告警"),agentId:null==t?void 0:t.agent_id,activeTab:"securityAlarm",__source:{fileName:ee,lineNumber:298,columnNumber:13}}),h.a.createElement(R.a,{number:(null==t||null===(a=t.risk)||void 0===a?void 0:a.vuln)||0,title:Object(q.g)("漏洞"),agentId:null==t?void 0:t.agent_id,activeTab:"vulnerabilityRisk",__source:{fileName:ee,lineNumber:304,columnNumber:13}}),h.a.createElement(R.a,{number:(null==t||null===(r=t.risk)||void 0===r?void 0:r.baseline)||0,title:Object(q.g)("基线"),agentId:null==t?void 0:t.agent_id,activeTab:"baselineRisk",__source:{fileName:ee,lineNumber:310,columnNumber:13}}))}},{title:Object(q.g)("状态"),dataIndex:"status",width:q.d?120:90,filters:U.hostStatusOptions||[],filteredValue:null!==(o=E.status)&&void 0!==o?o:[],render:function(e,t){return h.a.createElement(M.a,{value:null==t?void 0:t.status,detail:null==t?void 0:t.state_detail,__source:{fileName:ee,lineNumber:327,columnNumber:16}})}},{title:Object(q.g)("客户端资源使用"),width:q.d?230:200,render:function(e,t){return t.status===K.d.offline?h.a.createElement(X.a,{__source:{fileName:ee,lineNumber:335,columnNumber:11}}):h.a.createElement(X.a,{cpu:null==t?void 0:t.cpu,memory:null==t?void 0:t.memory,__source:{fileName:ee,lineNumber:337,columnNumber:11}})}},{title:Object(q.g)("更新时间"),dataIndex:"last_heartbeat_time",width:150,render:function(e,t){return h.a.createElement("div",{__source:{fileName:ee,lineNumber:346,columnNumber:16}},Object(G.a)(null==t?void 0:t.last_heartbeat_time,"YYYY-MM-DD HH:mm:ss",!0))}},{title:Object(q.g)("操作"),dataIndex:"op",fixed:"right",headerCellStyle:{paddingLeft:"8px"},width:120,render:function(e,t){var n=t.status===K.d.offline||t.status===K.d.uninstall;return h.a.createElement(i.a,{content:te?"".concat(Object(q.g)('"未安装"及"离线"的主机不可下发任务')):Object(q.g)("当前用户暂无编辑权限"),trigger:"hover",disabled:!n&&te,__source:{fileName:ee,lineNumber:361,columnNumber:11}},h.a.createElement(V.a,{onClick:function(){Ce(t.agent_id)},disabled:n||!te,__source:{fileName:ee,lineNumber:370,columnNumber:13}},Object(q.g)("下发任务")))}}];return h.a.createElement(h.a.Fragment,null,h.a.createElement(z.a,{title:Object(q.g)("主机内容"),contentStyle:{marginTop:16},__source:{fileName:ee,lineNumber:386,columnNumber:7}},h.a.createElement("div",{className:ae("header"),__source:{fileName:ee,lineNumber:392,columnNumber:9}},h.a.createElement(r.a,{size:12,__source:{fileName:ee,lineNumber:393,columnNumber:11}},h.a.createElement(i.a,{content:Object(q.g)("请先在下方选择用户后再批量导出"),trigger:"hover",disabled:!(null==E||null===(u=E.id_list)||void 0===u||!u.length),__source:{fileName:ee,lineNumber:394,columnNumber:13}},h.a.createElement(l.a,{disabled:!(null!=E&&null!==(s=E.id_list)&&void 0!==s&&s.length),onClick:function(){Object($.a)({url:"/api/v6/asset-center/ExportHosts",data:ke,notifyId:"task-host"})},__source:{fileName:ee,lineNumber:399,columnNumber:15}},Object(q.g)("批量导出"))),h.a.createElement(i.a,{content:te?Object(q.g)("请先在下方选择用户后再批量添加标签"):Object(q.g)("当前用户暂无编辑权限"),trigger:"hover",disabled:!(null==E||null===(d=E.id_list)||void 0===d||!d.length)&&te,__source:{fileName:ee,lineNumber:412,columnNumber:13}},h.a.createElement(l.a,{disabled:!(null!=E&&null!==(b=E.id_list)&&void 0!==b&&b.length&&te),onClick:function(){ve((function(e){return ne(ne({},e),{},{visible:!0,type:D.a.add,tags:[],agent:E.id_list})}))},__source:{fileName:ee,lineNumber:421,columnNumber:15}},Object(q.g)("批量添加标签"))),h.a.createElement(i.a,{content:te?Object(q.g)("请先在下方选择用户后再批量下发任务"):Object(q.g)("当前用户暂无编辑权限"),trigger:"hover",disabled:!(null==E||null===(p=E.id_list)||void 0===p||!p.length)&&te,__source:{fileName:ee,lineNumber:436,columnNumber:13}},h.a.createElement(l.a,{disabled:!(null!=E&&null!==(N=E.id_list)&&void 0!==N&&N.length&&te),onClick:function(){Ce()},__source:{fileName:ee,lineNumber:445,columnNumber:15}},Object(q.g)("批量下发任务")))),h.a.createElement(r.a,{size:12,__source:{fileName:ee,lineNumber:455,columnNumber:11}},h.a.createElement("span",{__source:{fileName:ee,lineNumber:456,columnNumber:13}},h.a.createElement(T.a,{onRefresh:f()(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe();case 2:a.a.success(Object(q.g)("刷新成功"));case 3:case"end":return e.stop()}}),e)}))),__source:{fileName:ee,lineNumber:457,columnNumber:15}})))),h.a.createElement(H.a,{options:U.selectTypeInputHostOptions,style:{marginBottom:16},value:E,onChange:function(e,t){var n={};U.selectTypeInputHostOptions.forEach((function(e){var a=e.value;return n[a]=t[a]})),w(n)},__source:{fileName:ee,lineNumber:467,columnNumber:9}}),h.a.createElement("div",{className:ae("content"),__source:{fileName:ee,lineNumber:479,columnNumber:9}},h.a.createElement(F.a,m()({onResetSelectedRowsDeps:c()(Q),rowKey:"agent_id",scroll:{x:1400}},k(he),{columns:Se,rowSelection:ne({selectedRowKeys:Ee},xe),noDataElement:je?h.a.createElement(A.a,{onReload:Oe,error:je,__source:{fileName:ee,lineNumber:489,columnNumber:17}},h.a.createElement(A.d,{__source:{fileName:ee,lineNumber:490,columnNumber:19}})):void 0,__source:{fileName:ee,lineNumber:480,columnNumber:11}})))),h.a.createElement(D.c,{type:pe.type,visible:pe.visible,value:pe.tags,onCancel:function(){ve(ne({},re))},onConfirm:function(){var e=f()(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pe.type!==D.a.edit){e.next=5;break}return e.next=3,Object(Z.UpdateTags)({data:{tags:t,id_list:pe.agent}});case 3:e.next=7;break;case 5:return e.next=7,Object(Z.AddTags)({data:ne({tags:t},ke)});case 7:ve(ne({},re)),Oe();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),__source:{fileName:ee,lineNumber:500,columnNumber:7}}))}},853:function(e,t,n){"use strict";n.r(t),n.d(t,"selectTypeInputHostOptions",(function(){return l})),n.d(t,"hostStatusOptions",(function(){return i}));var a=n(1611),r=n(12),l=[{text:Object(r.g)("主机名称"),value:"hostname"},{text:Object(r.g)("主机IP"),value:"ip"},{text:Object(r.g)("主机ID"),value:"agent_id"},{text:Object(r.g)("客户端版本"),value:"version"}],i=[{value:a.d.uninstall,label:Object(r.g)("未安装"),text:Object(r.g)("未安装")},{value:a.d.running,label:Object(r.g)("运行中"),text:Object(r.g)("运行中")},{value:a.d.abnormal,label:Object(r.g)("运行异常"),text:Object(r.g)("运行异常")},{value:a.d.offline,label:Object(r.g)("离线"),text:Object(r.g)("离线")}]},860:function(e,t,n){"use strict";n.r(t);var a=n(28),r=n.n(a),l=n(16),i=n.n(l),o=n(1292),c=n(1634);t.default=function(){var e=Object(o.a)(r()(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.DescribeTags)();case 2:return t=e.sent,e.abrupt("return",null==t?void 0:t.data.map((function(e){return{value:e,text:e}})));case 4:case"end":return e.stop()}}),e)}))),{auto:!0}).data,t=void 0===e?[]:e,n=Object(o.a)(r()(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.DescribePlatforms)();case 2:return t=e.sent,e.abrupt("return",null==t?void 0:t.data.map((function(e){return{value:e,text:e}})));case 4:case"end":return e.stop()}}),e)}))),{auto:!0}).data,a=void 0===n?[]:n,l=Object(o.a)(r()(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.DescribeIDCs)();case 2:return t=e.sent,e.abrupt("return",null==t?void 0:t.data.map((function(e){return{value:e,text:e}})));case 4:case"end":return e.stop()}}),e)}))),{auto:!0}).data;return{tagOptions:t,platformOptions:a,idcOptions:void 0===l?[]:l}}}}]);